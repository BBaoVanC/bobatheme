{{ define "main" }}
{{ if or (eq .Kind "term") (eq .Kind "taxonomy") }}
<h1>
    {{ partialCached "icon.html" "filter" "filter" }}
    Filtering for "{{ .Title }}"
    {{ if eq .Kind "term" }}
    <span class="rss-link">
        {{ with .OutputFormats.Get "rss" }}
        <a href="{{ .Permalink }}">{{ partialCached "icon.html" "rss" "rss" }}</a>
        {{ end }}
    </span>
    {{ end }}
</h1>
{{ else }}
<h1>
    {{ with .Params.icon }}{{ partialCached "icon.html" . . }}{{ end }}
    {{ .Title | markdownify }}
    <span class="rss-link">
        {{ with .OutputFormats.Get "rss" }}
        <a href="{{ .Permalink }}">{{ partialCached "icon.html" "rss" "rss" }}</a>
        {{ end }}
    </span>
</h1>
{{ end }}

{{ if eq .Kind "taxonomy" }}
<ul>
    {{ range .Pages }}
    <li>
        <a href="{{ .Permalink }}">{{ .Title | markdownify }}</a>
    </li>
    {{ end }}
</ul>

{{ else }}
{{ range .Paginator.Pages }}
    {{ .Render "summary" }}
{{ else }}
<div>
    No posts here!
</div>
{{ end }}

{{ if gt .Paginator.TotalPages 1 }}
<div class="pagination">
    {{ template "_internal/pagination.html" . }}
</div>
{{ end }}

{{ end }}

{{ end }}
