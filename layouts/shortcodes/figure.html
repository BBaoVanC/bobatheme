{{ $resource := "" }}
{{ if .IsNamedParams }}
    {{ $resource = $.Page.Resources.GetMatch (.Get "src") }}
{{ else }}
    {{ $resource = $.Page.Resources.GetMatch (.Get 0) }}
{{ end }}

{{ $noborder := false }}
{{ if .Get "noborder" }}
    {{ $noborder = true }}
{{ end }}

{{ $hidecaption := false }}
{{ if .Get "hidecaption" }}
    {{ $hidecaption = true }}
{{ end }}

<p>
    {{ partial "figure.html" (dict "src" $resource "noborder" $noborder "hidecaption" $hidecaption) }}
</p>
